#!/usr/bin/env bash
# #######################################################################
# author: Leo ning <windywany@gmail.com>
# date: 2022-08-06
# version: 1.0.0
#########################################################################
# 添加主机到以下数组里
HOSTS=(localhost localhost)
#########################################################################
### do not edit this file unless you known what you are doing.###########
#########################################################################

if [ -z "$1" ]; then
    echo "give me a command please!"
    exit 1
fi

user=$(whoami)

for host in ${HOSTS[@]}; do
    echo -e ">> execute \033[32m$@\033[0m on \033[36m$user@$host\033[0m ...\n"
    if [ "${host}" = $(hostname) -o "localhost" = "${host}" ]; then
        command "$@"
    else
        ssh $user@$host "$@"
    fi
    echo -e ""
done
### do not edit above codes #############################################
#########################################################################
